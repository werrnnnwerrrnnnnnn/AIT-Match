<h1>Conversation with <%= @conversation.sender == current_user.profile ? @conversation.receiver.user_name : @conversation.sender.user_name %></h1>

<!-- Hidden div to store conversation ID -->
<div id="conversation-id" data-conversation-id="<%= @conversation.id %>"></div>

<!-- Messages list -->
<div id="messages">
  <% @messages.each do |message| %>
    <div>
      <%= render partial: "messages/message", locals: { message: message } %>
      <!-- This line has been removed as requested -->
      <!-- <p><strong>Sent at:</strong> <%= message.created_at.in_time_zone('Bangkok').strftime("%H:%M, %d %b %Y") %>--> <!-- Display in Thailand time -->
    </div>
  <% end %>
</div>

<!-- Form to send new messages -->
<%= form_with(model: [@conversation, @message], local: true) do |form| %>
  <div>
    <%= form.text_area :body, placeholder: "Write your message..." %>
  </div>
  <div>
    <%= form.submit "Send" %>
  </div>
<% end %>